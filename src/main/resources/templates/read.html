<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    집중력 스코어링 <br/>
    <textarea rows="5" cols="40" th:text="${scoring.content}">
     </textarea><br/>
    <label>시작시간:</label>
    <p id="start-time" th:text="${scoring.start}" th:data-start="${scoring.start}"></p>

    <label>종료시간:</label>
    <p id="end-time" th:text="${scoring.end}" th:data-end="${scoring.end}"></p>
    <p>집중시간(분): <span id="time-difference">0</span> 분</p>

    <a th:href="@{/scoring/delete/{id}(id=${scoring.id})}">[삭제]</a>
    <a th:href="@{/scoring/updateForm/{id}(id=${scoring.id})}">[수정]</a>

</body>
<script>
    // 시간 차이 계산 함수
    function calculateTimeDifference() {
        const startTime = document.getElementById('start-time').getAttribute('data-start');
        const endTime = document.getElementById('end-time').getAttribute('data-end');
        console.log("Start Time:", startTime);
        console.log("End Time:", endTime);

        if (startTime && endTime) {
            const startParts = startTime.split(':');
            const endParts = endTime.split(':');


            const startMinutes = parseInt(startParts[0]) * 60 + parseInt(startParts[1]);
            const endMinutes = parseInt(endParts[0]) * 60 + parseInt(endParts[1]);


            const differenceInMinutes = endMinutes - startMinutes;

            document.getElementById('time-difference').textContent = differenceInMinutes;
        }
    }

    document.addEventListener('DOMContentLoaded', calculateTimeDifference);
</script>
</html>